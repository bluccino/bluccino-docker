#!/bin/bash
# gib: git create branch (local & remote)

   if [ "$*" == "-?" ]; then
      echo '   usage: gib -! <branch>       # create branch (local & remote)'
      echo '          gib -! Bluco-V10.00   # create branch (local & remote)'
      echo '          gib -r ihux           # refresh branch (local & remote)'
      echo '   see also: gib, gic, gil, gip, gir, gis, tag'
      exit 1
   fi

   if [ "$1" == "-r" ]; then
      gid -! $2
			gib -! $2
      git push --set-upstream origin $2
      gil
      exit 1
   fi

   if [ "$1" != "-!" ]; then
      gib -?
      exit 1
   fi


   if [ "$2" == "" ]; then
      gib -?
      exit 1
   fi

# rename local name of branch

   echo "create branch at current checkout"
   echo "   create new branch: git branch $2"
   git branch $2 || exit

   echo "   checkout new branch: git checkout $2"
   git checkout $2  || exit

   echo "   first commit on this branch: gic 'first commit on new branch'"
   echo date >.dummy
   gic 'first commit on new branch'  || exit

   echo "   push to remote: git push --set-upstream origin $2"
   git push --set-upstream origin $2  || exit
